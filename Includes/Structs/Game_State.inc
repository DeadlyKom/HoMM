
                ifndef _STRUCTS_GAME_STATE_
                define _STRUCTS_GAME_STATE_

                struct FGameState                                               ; переменные состояния игры                                     [25 байт]
; -----------------------------------------
;      7    6    5    4    3    2    1    0
;   +----+----+----+----+----+----+----+----+
;   | .. | .. | .. | .. | UP | EX | EN | TR |
;   +----+----+----+----+----+----+----+----+
;
;   UP      [3]     - флаг, бновления
;   EX      [2]     - флаг, завершения цикла
;   EN      [1]     - флаг, первичного запуска (необходимо для инициализации)
;   TR      [1]     - флаг, переход между циклами
; -----------------------------------------
MainLoop        DB #00                                                          ; флаги главного цикла                                          [1 байт]
; -----------------------------------------
;      7    6    5    4    3    2    1    0
;   +----+----+----+----+----+----+----+----+
;   | .. | .. | .. | .. | .. | RT | NS | FS |
;   +----+----+----+----+----+----+----+----+
;
;   RT      [2]     - флаг, отрисовки тайловой карты
;   NS      [1]     - флаг, отключение смены экранов
;   FS      [0]     - флаг, рендер завершён
; -----------------------------------------
Render          DB #00                                                          ; флаги отрисовки                                               [1 байт]
Screen          DB #00                                                          ; старший бит адрес экрана                                      [1 байт]
; -----------------------------------------
;      7    6    5    4    3    2    1    0
;   +----+----+----+----+----+----+----+----+
;   | TX | PC | RS | SO | .. | .. | SS | CS |
;   +----+----+----+----+----+----+----+----+
;
;   TX      [7]     - флаг, режим ввода текста
;   PC      [6]     - флаг, отсутствия действий нажатия/отжатия клавиши
;   RS      [5]     - флаг, клавиша нажата/отжата
;   SO      [4]     - флаг, отключния сканирования
;   SS      [1]     - флаг, зажат Symbol Shift
;   CS      [0]     - флаг, зажат Caps Shift
; -----------------------------------------
Input           DB #00                                                          ; флаги ввода                                                   [1 байт]
Input.VK        DB #00                                                          ; номер "виртуальной" клавишаи                                  [1 байт]
; -----------------------------------------
;      7    6    5    4    3    2    1    0
;   +----+----+----+----+----+----+----+----+
;   | MP | ES | SC | AC |  L |  R | U |  D |
;   +----+----+----+----+----+----+----+----+
;
;   MP      [7]     - флаг, нажатия клавиши "меню/пауза"
;   ES      [6]     - флаг, нажатия клавиши "выход"
;   SC      [5]     - флаг, нажатия клавиши "выбор"
;   AC      [4]     - флаг, нажатия клавиши "ускорить"
;   L       [3]     - флаг, нажатия клавиши влево
;   R       [2]     - флаг, нажатия клавиши вправо
;   U       [1]     - флаг, нажатия клавиши вверх
;   D       [0]     - флаг, нажатия клавиши вниз
; -----------------------------------------
Input.Value     DB #00                                                          ; дополнительный флаг                                           [1 байт]
; -----------------------------------------
;
;      7    6    5    4    3    2    1    0
;   +----+----+----+----+----+----+----+----+
;   | CK | FI | L2 | L1 | L0 | C2 | C1 | C0 |
;   +----+----+----+----+----+----+----+----+
;
;   CK      [7]     - флаг, смены нажатия клавиши
;   FI      [6]     - флаг, инициализации (первичное отображение слотов)
;   L2-C0   [5-3]   - номер предыдущей нажатой клавиши
;   C2-C0   [2-0]   - номер текущей нажатой клавиши
; -----------------------------------------
Input.HotKeys   DB #00                                                          ; флаг ввода горячих клавиш                                     [1 байт]
; -----------------------------------------
;
;      7    6    5    4    3    2    1    0
;   +----+----+----+----+----+----+----+----+
;   | LE | RE | L2 | L1 | .. | .. | .. | .. |
;   +----+----+----+----+----+----+----+----+
;
;   LE      [7]     - флаг, границы по левому краю
;   RE      [6]     - флаг, границы по правому краю
;   UE      [5]     - флаг, границы по верхнему краю
;   BE      [4]     - флаг, границы по нижнему краю
; -----------------------------------------
Input.Scroll    DB #00                                                          ; флаги ввода скролла карты                                     [1 байт]
AssetID         DB #00                                                          ; идентификатор последнего загруженного ассета                  [1 байт]
Assets          FAssets                                                         ; копия данных последнего загруженного ассета                   [8 байт]
SpriteInfoNum   DB #00                                                          ; количество спрайтов в массиве SpriteInfoBuffer                [1 байт]
LeftEdge        DB #00                                                          ; левая грань видимой части     (в пикселах)                    [1 байт]
VisibleWidth    DB #00                                                          ; ширина видимой части          (в знакоместах)                 [1 байт]
TopEdge         DB #00                                                          ; верхняя грань видимой части   (в пикселах)                    [1 байт]
VisibleHeight   DB #00                                                          ; высота видимой части          (в пикселах)                    [1 байт]
TickCounter     FTick                                                           ; счётчик тиков                                                 [3 байта]
                ends

                endif ; ~_STRUCTS_GAME_STATE_
