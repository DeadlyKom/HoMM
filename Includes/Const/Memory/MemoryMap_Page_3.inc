
                ifndef _CONST_MEMORY_MAP_PAGE_3_
                define _CONST_MEMORY_MAP_PAGE_3_

                ;   +-------+------------------------------------------+-------+
                ;   | #C000 |                              AssetsTable | #0100 |
                ;   +-------+------------------------------------------+-------+
                ;   | #С100 |                             AvailableMem | #0100 | ; битовый массив доступного ОЗУ
                ;   |       |                                          |       | ; хранит информацио о занятости блоков, где
                ;   |       |                                          |       | ;    0 - свободно,
                ;   |       |                                          |       | ;    1 - занято.
                ;   |       |                                          |       | ; 256 байт * 8 бит * 256 байт (минимальный блок) = 512кб
                ;   +-------+------------------------------------------+-------+
                ;   | #С200 |                          InitialBlockMem | #0100 | ; битовый массив начальных блоков памяти
                ;   |       |                                          |       | ; хранит информацио о начальном блоке, где
                ;   |       |                                          |       | ;    0 - не начальный,
                ;   |       |                                          |       | ;    1 - начальный.
                ;   |       |                                          |       | ; 256 байт * 8 бит * 256 байт (минимальный блок) = 512кб
                ;   +-------+------------------------------------------+-------+
                ;   | #С300 |                              stash TRDOS | #0400 |
                ;   +-------+------------------------------------------+-------+
                ;   | #С700 |                                 свободно | #2900 |
                ;   +-------+------------------------------------------+-------+
                ;   | #F000 |                                     Code | #0A00 | ; блок кода
                ;   +-------+------------------------------------------+-------+
                ;   | #FA00 |                                 свободно | #0100 | ; при загрузке будет мусор
                ;   +-------+------------------------------------------+-------+
                ;   | #FB00 |                                 свободно | #0600 |
                ;   +-------+------------------------------------------+-------+

                module Page
AssetManager    EQU PAGE_3
Page3           EQU PAGE_3
                endmodule

                module Size
AssetsTable     EQU FAssets * ASSETS_MAX                                        ; размер таблицы ресурсов
AvailableMem    EQU ASSETS_MAX_PAGES * (BankSize >> 11)                         ; размер битового массива доступного ОЗУ
InitialBlockMem EQU AvailableMem                                                ; размер битового массива начальных блоков памяти
Stash_TRDOS     EQU Bootloader.TRDOS.Size                                       ; размер драйвера TR-DOS (не более 1024кб)
Code.Page3      EQU #0A00                                                       ; размер блока кода
                endmodule

                module Adr
AssetsTable     EQU #C000                                                       ; адрес таблицы ресурсов
AvailableMem    EQU AssetsTable + Size.AssetsTable                              ; адрес битового массива доступного ОЗУ
InitialBlockMem EQU AvailableMem + Size.AvailableMem                            ; адрес битового массива начальных блоков памяти
Stash_TRDOS     EQU InitialBlockMem + Size.InitialBlockMem                      ; адрес расположения драйвера TR-DOS
Code.Page3      EQU #F000                                                       ; адрес блока кода
                                                                                ; (помещён в центр, при распоковке затрутся ObjectDefaultSettings)
                endmodule

                endif ; ~_CONST_MEMORY_MAP_PAGE_3_
