
                ifndef _CONST_MEMORY_MAP_PAGE_5_
                define _CONST_MEMORY_MAP_PAGE_5_

                ;   +-------+------------------------------------------+-------+
                ;   | #4000 |                                   Screen | #1B00 |
                ;   +-------+------------------------------------------+-------+
                ;   | #5B00 |                 Basic & TR-DOS variables | #033C |
                ;   +-------+------------------------------------------+-------+
                ;   | #5E3C |                                    Stack | #00C4 |
                ;   +-------+------------------------------------------+-------+
                ;   | #5F00 |                            ScrAdrTable.L | #00С0 | ; таблица адресов экрана, в зависимости от вертикального значения (младший)
                ;   +-------+------------------------------------------+-------+
                ;   | #5FC0 |                               GameConfig | #0040 | ; переменных конфигурации игры
                ;   +-------+------------------------------------------+-------+
                ;   | #6000 |                            ScrAdrTable.H | #00С0 | ; таблица адресов экрана, в зависимости от вертикального значения (старший)
                ;   +-------+------------------------------------------+-------+
                ;   | #60C0 |                                GameState | #0040 | ; переменных состояния игры
                ;   +-------+------------------------------------------+-------+
                ;   | #6100 |                         ScrAdrTable.Horz | #0100 | ; таблица смещений адресов экрана, по горизонтали (знакоместа)
                ;   +-------+------------------------------------------+-------+
                ;   | #6200 |                          ScrAdrTable.Pix | #0100 | ; таблица смещений адресов экрана, по горизонтали (пиксели в знакоместе)
                ;   +-------+------------------------------------------+-------+
                ;   | #6300 |                          ScrAttrAdrTable | #0100 | ; таблица преобразование адресов экрана в атрибутные
                ;   +-------+------------------------------------------+-------+
                ;   | #6400 |                               ShiftTable | #0E00 | ; таблица сдвигов (7 сдвигов * 256 комбинаций * 2 байта результат)
                ;   +-------+------------------------------------------+-------+
                ;   | #7300 |                          ByteMirrorTable | #0100 | ; таблица зеркальных байт
                ;   +-------+------------------------------------------+-------+
                ;   | #7200 |                           MultiplySprite | #0100 | ; таблицы умножения для работы со спрайтами
                ;   +-------+------------------------------------------+-------+
                ;   | #7400 |                                MemoryMap | #0040 | ; массив хранения значений портов для переключения памяти
                ;   +-------+------------------------------------------+-------+
                ;   | #7440 |                              GameSession | #0080 | ; переменных состояния сессии
                ;   +-------+------------------------------------------+-------+
                ;   | #74C0 |                               EntryPoint | #0040 |
                ;   +-------+------------------------------------------+-------+
                ;   | #7500 |                              SharedPoint | #0B00 |
                ;   +-------+------------------------------------------+-------+

                module Size
CodeToScr       EQU ImageSize                                                   ; размер временного буфера хранения кода (в экранной области)
Stack           EQU #00C4                                                       ; размер стека
ScrAdrTable     EQU #0400                                                       ; размер таблицы адресов экрана
ScrAttrAdrTable EQU #0100                                                       ; размер таблица преобразование адресов экрана в атрибутные
ShiftTable      EQU #0E00                                                       ; размер таблицы сдвигов (7 сдвигов * 256 комбинаций * 2 байта результат)
ByteMirrorTable EQU #0100                                                       ; размер таблицы зеркальных байт
MultiplySprite  EQU #0100                                                       ; размер таблицы умножения для работы со спрайтами
MemoryMap       EQU #0040                                                       ; размер массива хранения значений портов для переключения памяти
GameConfig      EQU #0040                                                       ; размер переменных конфигурации игры
GameState       EQU #0040                                                       ; размер переменных состояния игры
GameSession     EQU #0080                                                       ; размер переменных состояния сессии
EntryPoint      EQU #0040                                                       ; размер точки входа
SharedPoint     EQU #0B00                                                       ; размер общей точки входа (место переноса кода из страниц)
                endmodule

                module Adr
CodeToScr       EQU MemBank_01                                                  ; адрес временного буфера хранения кода (в экранной области)
StackTop        EQU #5E3C + Size.Stack                                          ; расположение стека
ScrAdrTable     EQU Adr.StackTop                                                ; адрес таблицы адресов экрана
GameConfig      EQU Adr.ScrAdrTable + 0x00C0                                    ; адрес переменных конфигурации игры
GameState       EQU Adr.ScrAdrTable + 0x01C0                                    ; адрес переменных состояние игры
ScrAttrAdrTable EQU Adr.ScrAdrTable + Size.ScrAdrTable                          ; адрес таблицы преобразования адресов экрана в атрибутные
ShiftTable      EQU Adr.ScrAttrAdrTable + Size.ScrAttrAdrTable                  ; адрес таблицы сдвигов
ByteMirrorTable EQU Adr.ShiftTable + Size.ShiftTable                            ; адрес таблицы зеркальных байт
MultiplySprite  EQU Adr.ByteMirrorTable + Size.ByteMirrorTable                  ; адрес таблицы умножения для расчёта размера спрайта (без учёта маски)
MemoryMap       EQU Adr.MultiplySprite + Size.MultiplySprite                    ; адрес массива хранения значений портов для переключения памяти
GameSession     EQU Adr.MemoryMap + Size.MemoryMap                              ; адрес переменных состояния сессии
EntryPoint      EQU Adr.GameSession + Size.GameSession                          ; адрес точки входа
SharedPoint     EQU Adr.EntryPoint + Size.EntryPoint                            ; адрес точки входа
Port_7FFD       EQU PORT_7FFD                                                   ; адрес хранения номера странички
Booloader
.StackTop       EQU MemBank_03-2                                                ; расположение стека (загрузчика)
                endmodule


                endif ; ~_CONST_MEMORY_MAP_PAGE_5_
